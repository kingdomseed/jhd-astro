---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import HeadFonts from '../components/HeadFonts.astro';
import PageHeader from '../components/PageHeader.astro';

interface Post {
  title: string;
  slug: string;
  summary: string;
  category: string;
  date: string;
  readTime: string;
}

const posts: Post[] = [
  {
    title: 'Mythic Apps v1.5 Release Highlights',
    slug: 'mythic-apps-v1-5-release-highlights',
    summary: 'Refreshed dashboards, smarter dice queues, and streamlined journal exports for solo play.',
    category: 'Release Notes',
    date: '2025-08-12',
    readTime: '6 min read',
  },
  {
    title: 'Designing Lists for Flow State',
    slug: 'designing-lists-for-flow-state',
    summary: 'Behind-the-scenes on how we rebuilt list navigation to keep improv scenes moving.',
    category: 'Behind the Scenes',
    date: '2025-07-28',
    readTime: '7 min read',
  },
  {
    title: 'How GMs Use Meaning Tables in Play',
    slug: 'how-gms-use-meaning-tables-in-play',
    summary: 'We sat down with power users to map out inspiration workflows and shared their shortcuts.',
    category: 'Community',
    date: '2025-07-08',
    readTime: '5 min read',
  },
  {
    title: 'Draft to Done: Building Custom Tables Fast',
    slug: 'draft-to-done-building-custom-tables-fast',
    summary: 'Step-by-step look at creating reliable table packs, plus tips from the Mythic team.',
    category: 'Guides',
    date: '2025-06-19',
    readTime: '8 min read',
  },
];

const featuredPost = posts[0];

const categories = [
  {
    name: 'Release Notes',
    description: 'Version highlights and detailed changelogs.',
    icon: 'fa-slab fa-regular fa-rocket',
    href: '#release-notes',
  },
  {
    name: 'Behind the Scenes',
    description: 'Design explorations and process breakdowns.',
    icon: 'fa-slab fa-regular fa-palette',
    href: '#behind-the-scenes',
  },
  {
    name: 'Guides',
    description: 'Play-tested tips and workflows for Mythic tools.',
    icon: 'fa-slab fa-regular fa-compass',
    href: '#guides',
  },
  {
    name: 'Community',
    description: 'Spotlights, interviews, and play reports.',
    icon: 'fa-slab fa-regular fa-users',
    href: '#community',
  },
];

const formatDate = (value: string) =>
  new Intl.DateTimeFormat('en-US', {
    month: 'short',
    day: 'numeric',
    year: 'numeric',
  }).format(new Date(value));
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <HeadFonts />
    <title>Blog — Release Notes &amp; Behind‑the‑Scenes</title>
    <meta name="description" content="Release notes, design deep dives, and community stories from the Mythic Apps team." />
    <link rel="stylesheet" href="/global.css" />
    <script is:inline src="https://kit.fontawesome.com/9f0db3cdf4.js" crossorigin="anonymous"></script>
    <link rel="canonical" href="https://jasonholtdigital.com/blog/" />
  </head>
  <body>
    <a class="skip" href="#main">Skip to main content</a>
    <div id="bg-atmo" aria-hidden="true"></div>
    <div id="site">
      <Header />

      <PageHeader 
        title="Release Notes &amp; Behind-the-Scenes"
        subtitle="Updates, insights, and the craft behind the apps"
        description="Plain-language release notes first. Occasional deep dives on design, development, and the players shaping Mythic."
        accent="Blog"
        layout="left"
        icon="fa-solid fa-newspaper"
        colorScheme="secondary"
      />

      <main id="main" class="blog-main">
        <section class="section section--feature" aria-labelledby="feature-title">
          <div class="container">
            <header class="section-head" aria-hidden="true">
              <span class="accent-line" aria-hidden="true"></span>
              <span class="badge-text">Latest</span>
            </header>
            <article class="blog-feature" id="feature">
              <div class="blog-feature__flag" aria-hidden="true">New</div>
              <div class="blog-feature__body">
                <h2 id="feature-title" class="blog-feature__title">
                  <a href={`/blog/${featuredPost.slug}/`}>{featuredPost.title}</a>
                </h2>
                <p class="blog-feature__summary">{featuredPost.summary}</p>
                <div class="blog-feature__meta" aria-label="Post details">
                  <span class="blog-pill">{featuredPost.category}</span>
                  <span class="blog-pill">{formatDate(featuredPost.date)}</span>
                  <span class="blog-pill">{featuredPost.readTime}</span>
                </div>
                <p class="blog-feature__cta">
                  <a class="blog-feature__link" href={`/blog/${featuredPost.slug}/`}>
                    Read release notes
                    <i class="fa-slab fa-regular fa-arrow-right" aria-hidden="true"></i>
                  </a>
                </p>
              </div>
            </article>
          </div>
        </section>

        <section class="section" aria-labelledby="recent-title">
          <div class="container">
            <header class="section-head" aria-hidden="true">
              <span class="accent-line" aria-hidden="true"></span>
              <span class="badge-text">Blog</span>
            </header>
            <div class="blog-section-heading">
              <h2 id="recent-title" class="section-title">Recent Posts</h2>
              <p class="blog-section-summary">Stay current with Mythic updates, process insights, and community voices.</p>
            </div>
            <ul class="blog-posts" role="list">
              {posts.map((post) => (
                <li>
                  <article class="blog-card">
                    <header class="blog-card__header">
                      <span class="blog-pill">{post.category}</span>
                      <span class="blog-card__date">{formatDate(post.date)}</span>
                    </header>
                    <h3 class="blog-card__title">
                      <a href={`/blog/${post.slug}/`}>{post.title}</a>
                    </h3>
                    <p class="blog-card__summary">{post.summary}</p>
                    <footer class="blog-card__footer">
                      <span class="blog-card__readtime">{post.readTime}</span>
                      <a class="blog-card__link" href={`/blog/${post.slug}/`}>
                        Read post
                        <i class="fa-slab fa-regular fa-arrow-right" aria-hidden="true"></i>
                      </a>
                    </footer>
                  </article>
                </li>
              ))}
            </ul>
          </div>
        </section>

        <section class="section section-band" id="categories" aria-labelledby="categories-title">
          <div class="container">
            <header class="section-head" aria-hidden="true">
              <span class="accent-line" aria-hidden="true"></span>
              <span class="badge-text">Browse</span>
            </header>
            <div class="blog-section-heading blog-section-heading--center">
              <h2 id="categories-title" class="section-title">Explore by Category</h2>
              <p class="blog-section-summary">Pick a lane to skim updates faster. These anchors map to future tag hubs.</p>
            </div>
            <ul class="blog-categories" role="list">
              {categories.map((category) => (
                <li>
                  <a class="blog-category" href={category.href}>
                    <span class="blog-category__icon" aria-hidden="true">
                      <i class={category.icon}></i>
                    </span>
                    <span class="blog-category__body">
                      <span class="blog-category__name">{category.name}</span>
                      <span class="blog-category__description">{category.description}</span>
                    </span>
                    <span class="blog-category__arrow" aria-hidden="true">
                      <i class="fa-slab fa-regular fa-arrow-right"></i>
                    </span>
                  </a>
                </li>
              ))}
            </ul>
          </div>
        </section>

        <section class="section" id="blog-support" aria-labelledby="blog-support-title">
          <div class="container">
            <header class="section-head" aria-hidden="true">
              <span class="accent-line" aria-hidden="true"></span>
              <span class="badge-text">Stay in touch</span>
            </header>
            <div class="blog-support">
              <div class="blog-support__copy">
                <h2 id="blog-support-title" class="section-title">
                  Keep up with updates
                </h2>
                <p class="blog-support__summary">Hop into Discord or bookmark the resources hub. We post release notes here first, then dive deeper in guides.</p>
              </div>
              <div class="blog-support__actions">
                <a class="btn btn--shadow-discord" href="https://discord.gg/PEDHrhzcnk" target="_blank" rel="noopener">
                  <i class="fa-brands fa-discord" aria-hidden="true"></i>
                  Join Discord
                </a>
                <a class="btn btn--shadow-primary" href="/resources">
                  Browse Guides
                  <i class="fa-slab fa-regular fa-arrow-right" aria-hidden="true"></i>
                </a>
              </div>
            </div>
          </div>
        </section>
      </main>
      <Footer />
    </div>
  </body>
</html>
