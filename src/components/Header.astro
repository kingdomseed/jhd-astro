---
// Site header containing the logo, primary navigation and an
// accessible Download dropdown menu with platform links. The sticky
// behaviour is achieved through CSS defined in the global stylesheet.
---
<header>
  <div class="container row" style="justify-content: space-between">
    <a class="brand" href="/" aria-label="Jason Holt Digital home">
      <span class="logo" aria-hidden="true">JH</span>
      <strong>Jason Holt Digital</strong>
    </a>
    <button class="nav-toggle btn btn--secondary" aria-controls="siteNav" aria-expanded="false" aria-label="Open menu">
      <i class="fa-solid fa-bars" aria-hidden="true"></i>
      <span class="sr-only">Menu</span>
    </button>
    <nav id="siteNav" class="nav" aria-label="Primary">
      <button class="nav-close btn btn--tertiary" aria-label="Close menu">
        <i class="fa-solid fa-xmark" aria-hidden="true"></i>
        <span class="sr-only">Close</span>
      </button>
      <a href="/">Home</a>
      <a href="/apps">Apps</a>
      <a href="/resources">Resources</a>
      <a href="/support">Support</a>
      <a href="/blog">Blog</a>
      <a href="/about">About</a>
      <!-- Download call to action: dropdown menu with platform links -->
      <span class="cta-download-wrap">
        <button class="btn btn--secondary cta-download" aria-haspopup="menu" aria-expanded="false" aria-controls="downloadMenu">
          <i class="fa-solid fa-download" aria-hidden="true"></i>
          <span>Download&nbsp;Now</span>
          <i class="fa-solid fa-chevron-down" aria-hidden="true"></i>
        </button>
        <div id="downloadMenu" class="menu" role="menu" aria-label="Choose a platform">
          <a role="menuitem" href="https://apps.apple.com/us/app/mythic-gme-mobile/id6726999147" target="_blank" rel="noopener">
            <i class="fa-brands fa-apple" aria-hidden="true"></i> Apple App Store
          </a>
          <a role="menuitem" href="https://play.google.com/store/apps/details?id=com.jasonholtdigital.mythicgme2e" target="_blank" rel="noopener">
            <i class="fa-brands fa-google-play" aria-hidden="true"></i> Google Play
          </a>
          <a role="menuitem" href="https://www.amazon.ca/Jason-Holt-Digital-LLC-Mythic/dp/B0DJBPF9L9" target="_blank" rel="noopener">
            <i class="fa-brands fa-amazon" aria-hidden="true"></i> Amazon Appstore
          </a>
          <a role="menuitem" href="https://apps.microsoft.com/detail/9n39b8hj3cdg" target="_blank" rel="noopener">
            <i class="fa-brands fa-windows" aria-hidden="true"></i> Microsoft Store
          </a>
          <a role="menuitem" href="https://jasonholtdigital.itch.io/mythic-gme-digital" target="_blank" rel="noopener">
            <i class="fa-brands fa-itch-io" aria-hidden="true"></i> itch.io (Desktop)
          </a>
        </div>
      </span>
    </nav>
  </div>
</header>
<script>
  import '../scripts/header-dropdown.ts';
  import '../scripts/header-mobile.ts';
  import '../scripts/skip-link-focus.ts';
  // Hoisted import: processed by Astro/Vite, supports TS and npm deps.
  // See: https://docs.astro.build/en/guides/client-side-scripts/#hoisted-scripts
</script>