---
// Site header containing the logo, primary navigation and an
// accessible Download dropdown menu with platform links. The sticky
// behaviour is achieved through CSS defined in the global stylesheet.
import brandLogoUrl from '../assets/logo/logo.svg?url';
---
<header class="header-nav">
  <div class="container row" style="justify-content: space-between">
    <a class="brand" href="/" aria-label="Jason Holt Digital home">
      <img class="brand-logo" src={brandLogoUrl} alt="Jason Holt Digital" width="48" height="48" decoding="async" loading="eager" fetchpriority="high" />
      <strong>Jason Holt Digital</strong>
    </a>
    <button class="nav-toggle btn btn--secondary" aria-controls="siteNav" aria-expanded="false" aria-label="Open menu">
      <i class="fa-slab fa-regular fa-bars" aria-hidden="true"></i>
      <span class="sr-only">Menu</span>
    </button>
    <nav id="siteNav" class="nav" aria-label="Primary">
      <button class="nav-close btn btn--tertiary" aria-label="Close menu">
        <i class="fa-slab fa-regular fa-xmark" aria-hidden="true"></i>
        <span class="sr-only">Close</span>
      </button>
      <a href="/"><i class="fa-slab fa-regular fa-house" aria-hidden="true"></i><span>Home</span></a>
      <a href="/apps"><i class="fa-slab fa-regular fa-desktop" aria-hidden="true"></i><span>Apps</span></a>
      <a href="/resources"><i class="fa-slab fa-regular fa-book-open" aria-hidden="true"></i><span>Resources</span></a>
      <a href="/support"><i class="fa-slab fa-regular fa-life-ring" aria-hidden="true"></i><span>Support</span></a>
      <a href="/blog"><i class="fa-slab fa-regular fa-newspaper" aria-hidden="true"></i><span>Blog</span></a>
      <!-- Download call to action: dropdown menu with platform links -->
      <span class="cta-download-wrap">
        <button class="btn btn--secondary cta-download" aria-haspopup="menu" aria-expanded="false" aria-controls="downloadMenu">
          <span>Get the&nbsp;App</span>
          <i class="fa-slab fa-regular fa-angle-down" aria-hidden="true"></i>
        </button>
        <div id="downloadMenu" class="menu" role="menu" aria-label="Choose a platform">
          <a role="menuitem" href="https://apps.apple.com/us/app/mythic-gme-mobile/id6726999147" target="_blank" rel="noopener">
            <i class="fa-brands fa-apple" aria-hidden="true"></i> Apple App Store
          </a>
          <a role="menuitem" href="https://play.google.com/store/apps/details?id=com.jasonholtdigital.mythicgme2e" target="_blank" rel="noopener">
            <i class="fa-brands fa-google-play" aria-hidden="true"></i> Google Play
          </a>
          <a role="menuitem" href="https://www.amazon.ca/Jason-Holt-Digital-LLC-Mythic/dp/B0DJBPF9L9" target="_blank" rel="noopener">
            <i class="fa-brands fa-amazon" aria-hidden="true"></i> Amazon Appstore
          </a>
          <a role="menuitem" href="https://apps.microsoft.com/detail/9n39b8hj3cdg" target="_blank" rel="noopener">
            <i class="fa-brands fa-windows" aria-hidden="true"></i> Microsoft Store
          </a>
          <a role="menuitem" href="https://jasonholtdigital.itch.io/mythic-gme-digital" target="_blank" rel="noopener">
            <i class="fa-brands fa-itch-io" aria-hidden="true"></i> itch.io (Desktop)
          </a>
        </div>
      </span>
    </nav>
  </div>
</header>
<script>
  import '../scripts/header-dropdown.ts';
  import '../scripts/header-mobile.ts';
  import '../scripts/header-sticky.ts';
  import '../scripts/skip-link-focus.ts';
  // Hoisted import: processed by Astro/Vite, supports TS and npm deps.
  // See: https://docs.astro.build/en/guides/client-side-scripts/#hoisted-scripts
</script>
